# RX-888 MkII

Phil Karn, KA9Q

## Description

The [RX-888](https://www.rx-888.com/rx/) is an SDR based on Oscar Steila (IK1XPV)'s BBRF103 original open source design. The RX-888 utilizes the LTC2208 16-bit ADC chip, allowing it to stream the entire frequency range from 10 kHz to 64 MHz directly to a PC via USB 3.0. You can listen to 64M at once.

This only describes how to use the RX-888 in direct sampling mode, e.g., for LF/MF/HF through 6 meters. The R828 tuner/downconverter (connected to the "V" input) is *not* yet supported.

## Configuration

See below for an basic example.

```
[global]
hardware = rx888
status = rx888.local

[rx888]
device = rx888
description = "My RX-888"
```

You can also reference the [generic config file](/config/radiod@rx888-generic.conf).

Multiple instances of `radiod` can run on the same system, provided each has its own front end (they cannot be shared).

You can have as many as you want, subject to your CPU and USB limits.

The "description" parameter is advertised with mDNS (multicast DNS) service discovery on the LAN and this constrains its content. It should be 63 characters or less and not contain slashes ('/') or control characters (spaces are ok).

The RX888 MkII produces a real flood of data: over 2 Gbps at a sample rate of 129.6 MHz, which is why it uses USB 3. While a midrange x86 is enough to handle the processing requirements, they are not exactly insubstantial either so I recommend only one per host.

### device (mandatory)

In the example above, the `hardware` entry in the `[global]` section specifies the section containing RX-888 configuration information. (In this example the name of the hardware section happens to be the same as the device type, but it is not essential.)

The `device` key is mandatory.

### serial (optional)

Select the RX-888 to use if there's more than one on the system.

It's unlikely you'll have more than one on a system for performance reasons, nor do I recommend it.

### samprate (optional)

Integer, default 64,800,000 (64.8 MHz).

Set the A/D sample rate. The RX-888 MkII is actually rated for 130 MHz but several users have had thermal problems so the default is to run it at half speed.

Full rate would be 129,600,000 (129.6 MHz). This is below the 130 MHz rating of the LTC2208 A/D converter and can be generated by small rational factors from the 27 MHz clock. This improves phase noise from the Si5351 clock generator.

### gain (optional)

Float, default 10.0 (dB).

Set the gain of the AD8370 analog VGA ahead of the A/D converter. There is no front end AGC in hardware or software (yet) so this should be set with some care.

Choose a value that results in an RMS A/D output level of -20 to -25 dBFS. I generally use +10 dB and may make this the default.

### att (optional)

Float, default 0.0.

Range 0 to 31.5 dB in 0.5 dB steps. Set the attenuation of the PE4312 attenuator ahead of the AD8370 VGA.

### calibrate (optional)

Double, default 0.

Set the clock error fraction for the built-in 27 MHz sampling clock. A value of -1e-6 means that the sample clock frequency is 1 part per million (ppm) low.

The correction is currently done with an ***experimental*** sample interpolation scheme that corrects both the tuning frequency and the output sample rate.
It works, but the CPU usage is high and creates an annoying "chugging" sound in the background noise at low signal levels (e.g., at upper HF frequencies) that I don't fully understand.
There are other correction methods (such as simply biasing the tuning frequency) that use little CPU but this wouldn't also correct the output sample rate. So this is purely experimental. If you need a precise sampling clock, I recommend opening the unit and finding the connector for an external 27 MHz frequency reference.

### firmware (optional)

String, default "SDDC_FX3.img".

Specify the path name of the firmware file to be loaded into the unit at startup. If not absolute it will be relative to /usr/local/share/ka9q-radio.

### queuedepth (optional)

Integer, default 16.

The number of buffers to be queued up for transfer over the USB. Larger numbers have occasionaly some problems.

### reqsize (optional)

Integer, default 32.

Set the size of each transfer buffer in internal units, which apparently defaults to 16 KB. **reqsize = 32** therefore corresponds to 512KB per buffer, or 8 MB for all 16.
This affects latency, but at these high sample rates the effect is minimal (a few milliseconds, compared to the typically 20 ms of latency inside *radiod* itself.)

### dither (optional)

Boolean, default false.

Enable the built-in dither feature of the LTC2208 A/D converter. Doesn't seem necessary given that antenna noise is almost certainly much greater than the quantization noise floor of this 16 bit A/D. It's probably exceeded even by the thermal noise of the VGA.

### rand (optional)

Boolean, default false.

Enable the data randomization feature of the LTC2208 A/D converter and automatically de-randomizes the data after reception. This is supposed to lower spurs resulting from digital-to-analog crosstalk on the circuit board. The actual benefit hasn't been measured, but the CPU cost is minimal.
